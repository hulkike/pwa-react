"use strict";(self.webpackChunkceet=self.webpackChunkceet||[]).push([[644],{3703:(e,a,t)=>{t.r(a),t.d(a,{default:()=>b});var s=t(6540),l=t(328),n=t(5654),r=t(5826),m=t(9704),i=t(4752),d=t(6008),o=t(550),c=t(7783),g=t(9391),u=t(1221),p=t(7674);const v=()=>{const e=(0,g.jL)(),a=(0,g.GV)(e=>e.authentication.account),t=(0,g.GV)(e=>e.settings.successMessage);(0,s.useEffect)(()=>(e((0,u.Ht)()),()=>{e((0,p.cL)())}),[]),(0,s.useEffect)(()=>{t&&o.oR.success((0,d.translate)(t))},[t]);return s.createElement("div",null,s.createElement(r.A,{className:"justify-content-center"},s.createElement(m.A,{md:"8"},s.createElement("h2",{id:"settings-title"},s.createElement(d.Translate,{contentKey:"settings.title",interpolate:{username:a.login}},"User settings for ",a.login)),s.createElement(d.ValidatedForm,{id:"settings-form",onSubmit:t=>{e((0,p.Mm)(Object.assign(Object.assign({},a),t)))},defaultValues:a},s.createElement(d.ValidatedField,{name:"firstName",label:(0,d.translate)("settings.form.firstname"),id:"firstName",placeholder:(0,d.translate)("settings.form.firstname.placeholder"),validate:{required:{value:!0,message:(0,d.translate)("settings.messages.validate.firstname.required")},minLength:{value:1,message:(0,d.translate)("settings.messages.validate.firstname.minlength")},maxLength:{value:50,message:(0,d.translate)("settings.messages.validate.firstname.maxlength")}},"data-cy":"firstname"}),s.createElement(d.ValidatedField,{name:"lastName",label:(0,d.translate)("settings.form.lastname"),id:"lastName",placeholder:(0,d.translate)("settings.form.lastname.placeholder"),validate:{required:{value:!0,message:(0,d.translate)("settings.messages.validate.lastname.required")},minLength:{value:1,message:(0,d.translate)("settings.messages.validate.lastname.minlength")},maxLength:{value:50,message:(0,d.translate)("settings.messages.validate.lastname.maxlength")}},"data-cy":"lastname"}),s.createElement(d.ValidatedField,{name:"email",label:(0,d.translate)("global.form.email.label"),placeholder:(0,d.translate)("global.form.email.placeholder"),type:"email",validate:{required:{value:!0,message:(0,d.translate)("global.messages.validate.email.required")},minLength:{value:5,message:(0,d.translate)("global.messages.validate.email.minlength")},maxLength:{value:254,message:(0,d.translate)("global.messages.validate.email.maxlength")},validate:e=>(0,d.isEmail)(e)||(0,d.translate)("global.messages.validate.email.invalid")},"data-cy":"email"}),s.createElement(d.ValidatedField,{type:"select",id:"langKey",name:"langKey",label:(0,d.translate)("settings.form.language"),"data-cy":"langKey"},c.IB.map(e=>s.createElement("option",{value:e,key:e},c.eo[e].name))),s.createElement(i.A,{color:"primary",type:"submit","data-cy":"submit"},s.createElement(d.Translate,{contentKey:"settings.form.button"},"Save"))))))};var f=t(4933),w=t(5078);const h=()=>{const[e,a]=(0,s.useState)(""),t=(0,g.jL)();(0,s.useEffect)(()=>(t((0,w.cL)()),t((0,u.Ht)()),()=>{t((0,w.cL)())}),[]);const l=(0,g.GV)(e=>e.authentication.account),n=(0,g.GV)(e=>e.password.successMessage),c=(0,g.GV)(e=>e.password.errorMessage);return(0,s.useEffect)(()=>{n?o.oR.success((0,d.translate)(n)):c&&o.oR.error((0,d.translate)(c)),t((0,w.cL)())},[n,c]),s.createElement("div",null,s.createElement(r.A,{className:"justify-content-center"},s.createElement(m.A,{md:"8"},s.createElement("h2",{id:"password-title"},s.createElement(d.Translate,{contentKey:"password.title",interpolate:{username:l.login}},"Password for ",l.login)),s.createElement(d.ValidatedForm,{id:"password-form",onSubmit:({currentPassword:e,newPassword:a})=>{t((0,w.XB)({currentPassword:e,newPassword:a}))}},s.createElement(d.ValidatedField,{name:"currentPassword",label:(0,d.translate)("global.form.currentpassword.label"),placeholder:(0,d.translate)("global.form.currentpassword.placeholder"),type:"password",validate:{required:{value:!0,message:(0,d.translate)("global.messages.validate.newpassword.required")}},"data-cy":"currentPassword"}),s.createElement(d.ValidatedField,{name:"newPassword",label:(0,d.translate)("global.form.newpassword.label"),placeholder:(0,d.translate)("global.form.newpassword.placeholder"),type:"password",validate:{required:{value:!0,message:(0,d.translate)("global.messages.validate.newpassword.required")},minLength:{value:4,message:(0,d.translate)("global.messages.validate.newpassword.minlength")},maxLength:{value:50,message:(0,d.translate)("global.messages.validate.newpassword.maxlength")}},onChange:e=>a(e.target.value),"data-cy":"newPassword"}),s.createElement(f.A,{password:e}),s.createElement(d.ValidatedField,{name:"confirmPassword",label:(0,d.translate)("global.form.confirmpassword.label"),placeholder:(0,d.translate)("global.form.confirmpassword.placeholder"),type:"password",validate:{required:{value:!0,message:(0,d.translate)("global.messages.validate.confirmpassword.required")},minLength:{value:4,message:(0,d.translate)("global.messages.validate.confirmpassword.minlength")},maxLength:{value:50,message:(0,d.translate)("global.messages.validate.confirmpassword.maxlength")},validate:a=>a===e||(0,d.translate)("global.messages.error.dontmatch")},"data-cy":"confirmPassword"}),s.createElement(i.A,{color:"success",type:"submit","data-cy":"submit"},s.createElement(d.Translate,{contentKey:"password.form.button"},"Save"))))))},b=()=>s.createElement("div",null,s.createElement(n.A,null,s.createElement(l.qh,{path:"settings",element:s.createElement(v,null)}),s.createElement(l.qh,{path:"password",element:s.createElement(h,null)})))}}]);